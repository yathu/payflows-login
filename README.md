# Login Flow

A secure login and two-factor authentication flow built with Vue 3, TypeScript, and Tailwind CSS.

## ğŸš€ Quick Start

### Prerequisites

- Node.js 18 or higher
- npm or yarn

> **Development Environment:** This project was developed and tested with Node.js `v22.18.0` and Yarn `v4.12.0`

### Installation

```bash
# Install dependencies
npm install
# or
yarn install

# Start development server
npm run dev
# or
yarn dev
```

The application will be available at `http://localhost:5173`

## Test Credentials

- **Email:** `test@test.com`
- **Password:** `My@password1`
- **2FA Code:** `123456`

## Tech Stack

**Core:** Vue 3, TypeScript, Vite  
**State Management:** Pinia  
**Routing:** Vue Router  
**Styling:** Tailwind CSS 4, shadcn-vue  
**Form Validation:** Zod, VeeValidate  
**HTTP Client:** Fetch API

## ğŸ“ Project Structure

```
src/
â”œâ”€â”€ components/          # Reusable UI components
â”‚   â””â”€â”€ ui/              # shadcn-vue UI components
â”œâ”€â”€ layouts/             # Layout components
â”œâ”€â”€ pages/               # Page components
â”‚   â”œâ”€â”€ login.vue
â”‚   â”œâ”€â”€ twoFA.vue
â”‚   â””â”€â”€ dashboard.vue
â”œâ”€â”€ stores/              # Pinia state management
â”‚   â””â”€â”€ authStore.ts
â”œâ”€â”€ APIi/                # API service layer
â”‚   â””â”€â”€ Api.ts
â”œâ”€â”€ types/               # TypeScript type definitions
â”‚   â”œâ”€â”€ api.ts
â”‚   â”œâ”€â”€ auth.ts
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ router/              # Vue Router configuration
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ assets/css/          # Global styles
â”‚   â””â”€â”€ style.css
â”œâ”€â”€ App.vue
â””â”€â”€ main.ts
```

## ğŸ¯ Features

- âœ… Login page with email/password authentication
- âœ… Two-factor authentication (2FA) with 6-digit OTP
- âœ… Protected dashboard page
- âœ… Form validation with error messages
- âœ… OTP resend with 30-second countdown (persists on refresh)
- âœ… Maximum 3 OTP attempts tracking
- âœ… Loading states and disabled buttons
- âœ… Route guards and navigation protection
- âœ… Responsive design (mobile + desktop)
- âœ… Session persistence with sessionStorage

## ğŸ›ï¸ Key Decisions

### Authentication Flow

Implemented three authentication states:

- **`unauthenticated`** - User not logged in
- **`loginOnlySuccess`** - Login verified, awaiting 2FA
- **`authenticated`** - Fully authenticated (login + 2FA complete)

**Storage:**

- `sessionStorage` - Temporary 2FA session (persists on page refresh, cleared when tab is closed)

### Route Protection

Navigation guards enforce access control:

- Login page redirects authenticated users to dashboard
- 2FA page requires successful login first
- Dashboard requires full authentication

### Shared Layout

Created `LoginLayout.vue` component used by both Login and 2FA pages for consistent design and code reusability.

## Assumptions

The Figma design is based on a 764 height screen. To keep the bottom left image visually consistent across different screen sizes, I assumed the image should remain fixed at the bottom left of the screen and implemented it accordingly.

Additionally, I followed the Figma behavior where the submit button is disabled when inputs are invalid. For this reason, no inline validation message (such as minimum character requirements) is shown. The button becomes active only when the input meets the required criteria.

## âš ï¸ Known Limitations

### Session Persistence

- **Login session (before 2FA):** Persists on page refresh, stays on 2FA page. Cleared when tab is closed.
- **OTP countdown timer:** Timer state is saved in sessionStorage. If you refresh at 20 seconds, countdown resumes from 20 seconds. Cleared when tab is closed.

### OTP Attempt Counter

The OTP attempt counter is session-based. After 3 failed attempts, the error message displays: "You have reached the maximum OTP attempts. Please try again after 30 minutes."

**Behavior on refresh:** User is redirected back to login page (unauthenticated state), but the error message briefly displays before redirect.

## ğŸ“ Note

AI tools were used only for learning purposes and for improving the README content. The project code itself was written manually and not generated by AI.
